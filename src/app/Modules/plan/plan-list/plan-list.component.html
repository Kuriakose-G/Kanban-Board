<div class="list-container">
  <h1>Schedules Plan List</h1>
  <div class="list">
    <div *ngIf="allPlans$ | async as plans; else loading">
      <div *ngFor="let plan of plans; let i = index" class="schedule-item" [style.--delay]="i">
        <p class="schedule-title">{{ plan.JobTitle }}</p>
        <p class="schedule-description">{{ plan.Jobsite.Location }}, {{ plan.Jobsite.Street }}, {{ plan.Jobsite.City }}</p>
        <p class="schedule-due-date">Start: {{ plan.StartDate | date:'short' }}</p>
        <p class="schedule-due-date">End: {{ plan.EndDate | date:'short' }}</p>
        <p [ngClass]="{
          'priority-high': plan.PriorityID === 1,
          'priority-medium': plan.PriorityID === 2,
          'priority-low': plan.PriorityID === 3
        }" class="schedule-priority">{{ getPriorityLabel(plan.PriorityID) }}</p>
        <p class="schedule-status">{{ plan.JobType }}</p>
        <p class="schedule-assigned-to">{{ plan.Customer.Name }}</p>
      </div>
    </div>
    <ng-template #loading>
      <p class="loading">Loading...</p>
    </ng-template>
  </div>
</div>
